要件定義書：コマンドグリッド
第1章：UI/画面設計と画面フロー
1.0. 基本設計思想
本アプリケーションは、画面下部に常に表示される「フッターメニュー」を基本的なナビゲーションとし、各機能へアクセスする。これにより、どの画面からでも主要機能へスムーズに遷移できるUIを実現する。

フッターメニュー項目:

【HOME】: アプリのメイン画面。

【DECK】: デッキ構築やエンティティ管理を行う画面。

【SETTINGS】: 各種設定画面。

1.1. タイトル画面 (Title Screen)
目的: ゲームの入り口となる最初の画面。

主要素:

ゲームロゴ: 『コマンドグリッド』 (Command Grid)

開始テキスト: 「Click to Continue」など、開始を促す英語表記。

終了ボタン: テキストを「Quit」とし、クリックでアプリを終了。

キーボードショートカット: Escキー押下でアプリを終了（本画面限定）。

1.2. ホーム画面 (Home Screen)
目的: アプリのメインハブ。主に対戦への導線を提供する。

主要素:

対戦開始ボタン: 最も目立つ要素として配置し、押下すると「1.4. デッキ選択画面」へ遷移する。

相棒エンティティ表示エリア: プレイヤーが設定した「相棒」エンティティを表示する。

フッターメニュー: 各機能へのナビゲーション。

1.3. エンティティ管理画面 (Entity Management Screen)
目的: デッキ構築、エンティティ閲覧など、資産を総合的に管理する。

構成: 以下のタブで機能を切り替える。

1.3.1. デッキ編集:

保存可能なデッキ数は最大256個。

【管理者限定】 COM専用デッキの作成・編集機能を含む。

1.3.2. エンティティ辞典:

未所持を含む、ゲーム内の全エンティティを閲覧できる。

1.3.3. エンティティ入手（ガチャ）:

将来的な拡張用の項目であり、初期実装はしない。

共通機能: 「デッキ編集」「エンティティ辞典」の両方で、部分一致検索、ソート、フィルター機能を提供する。

1.4. デッキ選択画面 (Deck Selection Screen)
目的: 対戦で使用するデッキを1つ選択する。

フロー: ホーム画面の「対戦開始」ボタンから遷移する。

UI: 「1.3.1. デッキ編集」のデッキ一覧表示機能を流用し、UIの一貫性を保つ。

1.5. 対戦設定画面 (Match Setup Screen)
目的: 対戦ルールを最終決定する単一画面。

フロー: 「1.4. デッキ選択画面」から遷移する。

設定項目（プルダウンやリスト等で設定）:

対戦相手選択 (VS COM / LAN対戦)

対戦ルール選択 (5フェーズマッチなど)

先攻/後攻希望

「対戦開始」ボタンで「1.6. 対戦画面」へ遷移。

1.6. 対戦画面 (In-Game Screen)
レイアウト: 画面左側に64x64のメインフィールド、右側に情報・手札エリアを配置。

エンティティ召喚操作:

A) ドラッグ＆ドロップ方式

B) クリック＆プレース方式

上記2方式を両方とも実装する。

補助操作:

詳細確認: フィールドのエンティティを右クリックでコンテキストメニュー（「詳細を見る」「効果を発動」）を表示。

視点操作（ズーム）: Ctrl + マウスホイール。

視点操作（スクロール）: マウスホイール（上下）、Shift+マウスホイール（左右）、ミドルボタンドラッグ、左ボタンドラッグ（非選択時）の全てを実装。

アーキテクチャ: エンティティ単体の詳細表示は、IDを引数とする動的表示モジュール(utils)として実装し、各画面から再利用する。

1.7. 設定画面 (Settings Screen)
目的: ゲームの各種設定を変更する。

設定項目:

操作設定: 召喚操作の有効/無効化、視点操作の方向反転など。

サウンド設定: BGM、SEの音量調整。

グラフィック設定: 画面モード、解像度。

クレジット表示: 制作クレジットを表示する項目。

1.8. リザルト画面 (Results Screen)
目的: 対戦結果の表示と、対戦の振り返り機能を提供する。

主要素:

「VICTORY / DEFEAT」表示、最終HPスコア。

バトルログ閲覧機能

リプレイ保存機能

「ホームに戻る」「もう一度対戦」のナビゲーションボタン。